<!doctype html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Crash Pro</title>

<style>
* { box-sizing: border-box; margin:0; padding:0; }

body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: radial-gradient(circle at top, #0f1c2e, #0b1220);
  color: white;
  display: flex;
  flex-direction: column;
  height: 100vh;
}

/* HEADER */

.header {
  display: flex;
  justify-content: space-between;
  padding: 14px 16px;
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(12px);
}

.logo { font-weight: 600; }

.balance {
  background: #1e293b;
  padding: 6px 14px;
  border-radius: 20px;
  font-weight: 600;
  color: #22c55e;
}

/* HISTORY */

.history {
  display: flex;
  gap: 6px;
  padding: 8px 12px;
  overflow-x: auto;
}

.history span {
  padding: 6px 10px;
  border-radius: 8px;
  font-size: 13px;
  background: #1e293b;
  white-space: nowrap;
}

/* GAME */

.game {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 20px;
  position: relative;
}

#multiplier {
  font-size: 60px;
  font-weight: bold;
}

.green { color: #22c55e; }
.yellow { color: #facc15; }
.red { color: #ef4444; }

#rocket {
  font-size: 64px;
  transition: transform 0.05s linear;
}

.countdown {
  position: absolute;
  bottom: 20px;
  color: #facc15;
}

/* CONTROLS */

.controls {
  padding: 16px;
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(12px);
  display: flex;
  flex-direction: column;
  gap: 10px;
}

input {
  padding: 14px;
  border-radius: 12px;
  border: none;
  font-size: 15px;
  background: #1e293b;
  color: white;
  text-align: center;
}

.buttons {
  display: flex;
  gap: 10px;
}

button {
  flex: 1;
  padding: 14px;
  border: none;
  border-radius: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: 0.15s;
}

.bet-btn { background: #2563eb; color:white; }
.cash-btn { background: #22c55e; color:black; }

button:active { transform: scale(0.96); }
button:disabled { opacity: 0.5; }
</style>
</head>
<body>

<div class="header">
  <div class="logo">üöÄ CRASH PRO</div>
  <div class="balance">üíé <span id="balance">100</span></div>
</div>

<div class="history" id="history"></div>

<div class="game">
  <div id="multiplier">1.00x</div>
  <div id="rocket">üöÄ</div>
  <div class="countdown" id="countdown"></div>
</div>

<div class="controls">
  <input type="number" id="betInput" placeholder="–°—Ç–∞–≤–∫–∞">
  <input type="number" id="autoCash" placeholder="–ê–≤—Ç–æ-–∫—ç—à–∞—É—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä 2.0)">
  <div class="buttons">
    <button class="bet-btn" id="betBtn">–°—Ç–∞–≤–∫–∞</button>
    <button class="cash-btn" id="cashBtn">–ó–∞–±—Ä–∞—Ç—å</button>
  </div>
</div>

<script>
let balance = 100;
let bet = 0;
let multiplier = 1;
let crashPoint = 0;
let gameRunning = false;
let history = [];

const balanceEl = document.getElementById("balance");
const multiplierEl = document.getElementById("multiplier");
const rocketEl = document.getElementById("rocket");
const countdownEl = document.getElementById("countdown");
const historyEl = document.getElementById("history");
const betBtn = document.getElementById("betBtn");
const cashBtn = document.getElementById("cashBtn");

function updateBalance() {
  balanceEl.innerText = balance;
}

function randomCrash() {
  return parseFloat((Math.random() * 5 + 1).toFixed(2));
}

function addHistory(value) {
  history.unshift(value);
  if (history.length > 10) history.pop();

  historyEl.innerHTML = "";
  history.forEach(v => {
    const span = document.createElement("span");
    span.innerText = v + "x";
    if (v >= 2) span.classList.add("green");
    else if (v >= 1.2) span.classList.add("yellow");
    else span.classList.add("red");
    historyEl.appendChild(span);
  });
}

function startCountdown() {
  let count = 3;
  countdownEl.innerText = "–°—Ç–∞—Ä—Ç —á–µ—Ä–µ–∑ " + count;

  const timer = setInterval(() => {
    count--;
    countdownEl.innerText = "–°—Ç–∞—Ä—Ç —á–µ—Ä–µ–∑ " + count;

    if (count <= 0) {
      clearInterval(timer);
      countdownEl.innerText = "";
      startGame();
    }
  }, 1000);
}

function startGame() {
  multiplier = 1;
  crashPoint = randomCrash();
  gameRunning = true;
  betBtn.disabled = true;

  function loop() {
    if (!gameRunning) return;

    multiplier += 0.01 * multiplier;
    multiplierEl.innerText = multiplier.toFixed(2) + "x";

    rocketEl.style.transform = "translateY(-" + multiplier * 5 + "px)";

    const auto = parseFloat(document.getElementById("autoCash").value);
    if (bet > 0 && auto && multiplier >= auto) {
      cashOut();
      return;
    }

    if (multiplier >= crashPoint) {
      crash();
      return;
    }

    requestAnimationFrame(loop);
  }

  requestAnimationFrame(loop);
}

function crash() {
  gameRunning = false;
  multiplierEl.innerText = "üí• CRASH";
  rocketEl.style.transform = "translateY(0)";
  addHistory(crashPoint);
  bet = 0;
  betBtn.disabled = false;
  setTimeout(startCountdown, 2000);
}

function placeBet() {
  if (gameRunning) return;

  const amount = parseInt(document.getElementById("betInput").value);
  if (!amount || amount <= 0) return alert("–í–≤–µ–¥–∏—Ç–µ —Å—Ç–∞–≤–∫—É");
  if (amount > balance) return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤");

  bet = amount;
  balance -= amount;
  updateBalance();
}

function cashOut() {
  if (!gameRunning || bet <= 0) return;

  gameRunning = false;
  const win = Math.floor(bet * multiplier);
  balance += win;
  updateBalance();

  multiplierEl.innerText = "–ó–∞–±—Ä–∞–Ω–æ " + win;
  rocketEl.style.transform = "translateY(0)";
  addHistory(multiplier);

  bet = 0;
  betBtn.disabled = false;
  setTimeout(startCountdown, 2000);
}

betBtn.onclick = placeBet;
cashBtn.onclick = cashOut;

updateBalance();
startCountdown();
</script>

</body>
</html>